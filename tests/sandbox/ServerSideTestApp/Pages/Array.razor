@page "/array"
@using ServerSideTestApp.Services


@using FestivalProject.BL.Models.FestivalDto
@using FestivalProject.BL.Models.UserDto
<h3>Table from array</h3>


@if (Festivals != null)
{
    <RenderableContentListControl 
        ContextList="@Festivals" 
        Layout="ArrayLayout.Table">
    </RenderableContentListControl>


    <RenderableContentListControl ContextList="@Users" 
                                  Layout="ArrayLayout.Tabs"
                                  TcTabPageNameProperty="Name"
                                  TcPresentation="PresentationType.Control">
    </RenderableContentListControl>


    
}

@code {
    [Inject]
    public IFestivalService FestivalService {get; set; }
    [Inject]
    public IUserService UserService {get; set; }



    public IEnumerable<FestivalListDto> Festivals { get; set; }
    public IEnumerable<UserListDto> Users { get; set; }


    protected override async Task OnInitializedAsync()
    {
        
        Festivals = (await FestivalService.GetFestivalList()).ToList();
        Users =  (await UserService.GetUserList()).ToList();
     

    }
}
